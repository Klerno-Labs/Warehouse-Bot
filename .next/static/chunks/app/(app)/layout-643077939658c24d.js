(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[814],{9495:function(e,t,a){Promise.resolve().then(a.bind(a,5069))},5069:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return eQ}});var s=a(7437),r=a(8293),n=a(3247),i=a(4766),l=a(9376),d=a(2265),o=a(7053),c=a(535),u=a(755),m=a(1216),f=a(4513),x=a(1219),h=a(6916),p=a(9027),b=a(2489);let g=p.fC;p.xz,p.x8;let v=p.h_,j=d.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(p.aV,{className:(0,m.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r,ref:t})});j.displayName=p.aV.displayName;let N=(0,c.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),w=d.forwardRef((e,t)=>{let{side:a="right",className:r,children:n,...i}=e;return(0,s.jsxs)(v,{children:[(0,s.jsx)(j,{}),(0,s.jsxs)(p.VY,{ref:t,className:(0,m.cn)(N({side:a}),r),...i,children:[n,(0,s.jsxs)(p.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,s.jsx)(b.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});w.displayName=p.VY.displayName;let y=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,m.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...a})};y.displayName="SheetHeader";let k=d.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(p.Dx,{ref:t,className:(0,m.cn)("text-lg font-semibold text-foreground",a),...r})});k.displayName=p.Dx.displayName;let S=d.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(p.dk,{ref:t,className:(0,m.cn)("text-sm text-muted-foreground",a),...r})});function C(e){let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,m.cn)("animate-pulse rounded-md bg-muted",t),...a})}S.displayName=p.dk.displayName;var _=a(6470);let Z=d.createContext(null);function R(){let e=d.useContext(Z);if(!e)throw Error("useSidebar must be used within a SidebarProvider.");return e}function z(e){let{defaultOpen:t=!0,open:a,onOpenChange:r,className:n,style:i,children:l,...o}=e,c=function(){let[e,t]=d.useState(void 0);return d.useEffect(()=>{let e=window.matchMedia("(max-width: ".concat(767,"px)")),a=()=>{t(window.innerWidth<768)};return e.addEventListener("change",a),t(window.innerWidth<768),()=>e.removeEventListener("change",a)},[]),!!e}(),[u,f]=d.useState(!1),[x,h]=d.useState(t),p=null!=a?a:x,b=d.useCallback(e=>{let t="function"==typeof e?e(p):e;r?r(t):h(t),document.cookie="".concat("sidebar_state","=").concat(t,"; path=/; max-age=").concat(604800)},[r,p]),g=d.useCallback(()=>c?f(e=>!e):b(e=>!e),[c,b,f]);d.useEffect(()=>{let e=e=>{"b"===e.key&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),g())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[g]);let v=p?"expanded":"collapsed",j=d.useMemo(()=>({state:v,open:p,setOpen:b,isMobile:c,openMobile:u,setOpenMobile:f,toggleSidebar:g}),[v,p,b,c,u,f,g]);return(0,s.jsx)(Z.Provider,{value:j,children:(0,s.jsx)(_.pn,{delayDuration:0,children:(0,s.jsx)("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":"16rem","--sidebar-width-icon":"3rem",...i},className:(0,m.cn)("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",n),...o,children:l})})})}function E(e){let{side:t="left",variant:a="sidebar",collapsible:r="offcanvas",className:n,children:i,...l}=e,{isMobile:d,state:o,openMobile:c,setOpenMobile:u}=R();return"none"===r?(0,s.jsx)("div",{"data-slot":"sidebar",className:(0,m.cn)("bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col",n),...l,children:i}):d?(0,s.jsx)(g,{open:c,onOpenChange:u,...l,children:(0,s.jsxs)(w,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden",style:{"--sidebar-width":"18rem"},side:t,children:[(0,s.jsxs)(y,{className:"sr-only",children:[(0,s.jsx)(k,{children:"Sidebar"}),(0,s.jsx)(S,{children:"Displays the mobile sidebar."})]}),(0,s.jsx)("div",{className:"flex h-full w-full flex-col",children:i})]})}):(0,s.jsxs)("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":o,"data-collapsible":"collapsed"===o?r:"","data-variant":a,"data-side":t,"data-slot":"sidebar",children:[(0,s.jsx)("div",{"data-slot":"sidebar-gap",className:(0,m.cn)("relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180","floating"===a||"inset"===a?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]")}),(0,s.jsx)("div",{"data-slot":"sidebar-container",className:(0,m.cn)("fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex","left"===t?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]","floating"===a||"inset"===a?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...l,children:(0,s.jsx)("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:i})})]})}function I(e){let{className:t,onClick:a,...r}=e,{toggleSidebar:n}=R();return(0,s.jsxs)(f.z,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:(0,m.cn)("h-7 w-7",t),onClick:e=>{null==a||a(e),n()},...r,children:[(0,s.jsx)(u.Z,{}),(0,s.jsx)("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function A(e){let{className:t,...a}=e;return(0,s.jsx)("main",{"data-slot":"sidebar-inset",className:(0,m.cn)("bg-background relative flex w-full flex-1 flex-col","md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2",t),...a})}function T(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:(0,m.cn)("flex flex-col gap-2 p-2",t),...a})}function F(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:(0,m.cn)("flex flex-col gap-2 p-2",t),...a})}function O(e){let{className:t,...a}=e;return(0,s.jsx)(h.Z,{"data-slot":"sidebar-separator","data-sidebar":"separator",className:(0,m.cn)("bg-sidebar-border mx-2 w-auto",t),...a})}function P(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:(0,m.cn)("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...a})}function D(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:(0,m.cn)("relative flex w-full min-w-0 flex-col p-2",t),...a})}function V(e){let{className:t,asChild:a=!1,...r}=e,n=a?o.g7:"div";return(0,s.jsx)(n,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:(0,m.cn)("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...r})}function M(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:(0,m.cn)("w-full text-sm",t),...a})}function L(e){let{className:t,...a}=e;return(0,s.jsx)("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:(0,m.cn)("flex w-full min-w-0 flex-col gap-1",t),...a})}function Y(e){let{className:t,...a}=e;return(0,s.jsx)("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:(0,m.cn)("group/menu-item relative",t),...a})}let W=(0,c.j)("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function U(e){let{asChild:t=!1,isActive:a=!1,variant:r="default",size:n="default",tooltip:i,className:l,...d}=e,c=t?o.g7:"button",{isMobile:u,state:f}=R(),x=(0,s.jsx)(c,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":n,"data-active":a,className:(0,m.cn)(W({variant:r,size:n}),l),...d});return i?("string"==typeof i&&(i={children:i}),(0,s.jsxs)(_.u,{children:[(0,s.jsx)(_.aJ,{asChild:!0,children:x}),(0,s.jsx)(_._v,{side:"right",align:"center",hidden:"collapsed"!==f||u,...i})]})):x}var B=a(7648),q=a(4794),J=a(5005),X=a(6275),H=a(7168),Q=a(9525),$=a(525),K=a(5466),G=a(5805),ee=a(8420),et=a(3044),ea=a(8728),es=a(875),er=a(7692),en=a(7459),ei=a(9072),el=a(2473),ed=a(3340);let eo={inventory:q.Z,jobs:J.Z,purchasing:X.Z,"cycle-counts":H.Z,maintenance:Q.Z,"sales-atp":$.Z,dashboards:K.Z},ec={inventory:"Inventory",jobs:"Jobs",purchasing:"Purchasing","cycle-counts":"Cycle Counts",maintenance:"Maintenance","sales-atp":"Sales ATP",dashboards:"Dashboards"},eu=[{title:"Users",url:"/admin/users",icon:G.Z},{title:"Facilities",url:"/admin/facilities",icon:ee.Z},{title:"Audit Log",url:"/admin/audit",icon:et.Z},{title:"Settings",url:"/admin/settings",icon:ea.Z}];function em(e){let{enabledModules:t}=e,a=(0,l.usePathname)(),{user:r,currentSite:n,availableSites:i,selectSite:d,logout:o}=(0,ed.a)(),c=r?"".concat(r.firstName.charAt(0)).concat(r.lastName.charAt(0)).toUpperCase():"??",u=(null==r?void 0:r.role)==="Admin"||(null==r?void 0:r.role)==="Supervisor";return(0,s.jsxs)(E,{children:[(0,s.jsxs)(T,{className:"border-b border-sidebar-border",children:[(0,s.jsx)("div",{className:"px-3 py-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"flex h-9 w-9 items-center justify-center rounded-md bg-primary text-primary-foreground",children:(0,s.jsx)(q.Z,{className:"h-5 w-5"})}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("span",{className:"text-sm font-semibold",children:"Warehouse Core"}),(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:null==r?void 0:r.tenantName})]})]})}),i.length>1&&(0,s.jsx)("div",{className:"px-3 pb-3",children:(0,s.jsxs)(en.h_,{children:[(0,s.jsx)(en.$F,{asChild:!0,children:(0,s.jsxs)("button",{className:"flex w-full items-center justify-between rounded-md border border-sidebar-border bg-sidebar px-3 py-2 text-sm hover-elevate","data-testid":"button-site-selector",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(ee.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsx)("span",{children:(null==n?void 0:n.name)||"Select Site"})]}),(0,s.jsx)(es.Z,{className:"h-4 w-4 text-muted-foreground"})]})}),(0,s.jsx)(en.AW,{align:"start",className:"w-56",children:i.map(e=>(0,s.jsx)(en.Xi,{onClick:()=>d(e),className:(null==n?void 0:n.id)===e.id?"bg-accent":"","data-testid":"menu-item-site-".concat(e.id),children:e.name},e.id))})]})})]}),(0,s.jsxs)(P,{children:[(0,s.jsxs)(D,{children:[(0,s.jsx)(V,{className:"text-xs font-medium uppercase tracking-wide text-muted-foreground",children:"Modules"}),(0,s.jsx)(M,{children:(0,s.jsx)(L,{children:t.map(e=>{let t=eo[e]||q.Z,r=ec[e]||e,n="/modules/".concat(e);return(0,s.jsx)(Y,{children:(0,s.jsx)(U,{asChild:!0,isActive:a===n,children:(0,s.jsxs)(B.default,{href:n,"data-testid":"link-module-".concat(e),children:[(0,s.jsx)(t,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:r})]})})},e)})})})]}),u&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(O,{}),(0,s.jsxs)(D,{children:[(0,s.jsx)(V,{className:"text-xs font-medium uppercase tracking-wide text-muted-foreground",children:"Administration"}),(0,s.jsx)(M,{children:(0,s.jsx)(L,{children:eu.map(e=>{let t=a===e.url;return(0,s.jsx)(Y,{children:(0,s.jsx)(U,{asChild:!0,isActive:t,children:(0,s.jsxs)(B.default,{href:e.url,"data-testid":"link-admin-".concat(e.title.toLowerCase()),children:[(0,s.jsx)(e.icon,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:e.title})]})})},e.title)})})})]})]})]}),(0,s.jsx)(F,{className:"border-t border-sidebar-border",children:(0,s.jsx)("div",{className:"p-3",children:(0,s.jsxs)(en.h_,{children:[(0,s.jsx)(en.$F,{asChild:!0,children:(0,s.jsxs)("button",{className:"flex w-full items-center gap-3 rounded-md px-2 py-2 hover-elevate","data-testid":"button-user-menu",children:[(0,s.jsx)(ei.qE,{className:"h-8 w-8",children:(0,s.jsx)(ei.Q5,{className:"bg-primary text-primary-foreground text-xs",children:c})}),(0,s.jsxs)("div",{className:"flex flex-1 flex-col items-start text-left",children:[(0,s.jsxs)("span",{className:"text-sm font-medium",children:[null==r?void 0:r.firstName," ",null==r?void 0:r.lastName]}),(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:null==r?void 0:r.email})]}),(0,s.jsx)(el.C,{variant:"secondary",className:"text-xs",children:null==r?void 0:r.role})]})}),(0,s.jsxs)(en.AW,{align:"end",className:"w-56",children:[(0,s.jsxs)("div",{className:"px-2 py-1.5",children:[(0,s.jsxs)("p",{className:"text-sm font-medium",children:[null==r?void 0:r.firstName," ",null==r?void 0:r.lastName]}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:null==r?void 0:r.email})]}),(0,s.jsx)(en.VD,{}),(0,s.jsx)(en.Xi,{asChild:!0,children:(0,s.jsxs)(B.default,{href:"/admin/settings",className:"cursor-pointer",children:[(0,s.jsx)(ea.Z,{className:"mr-2 h-4 w-4"}),"Settings"]})}),(0,s.jsx)(en.VD,{}),(0,s.jsxs)(en.Xi,{onClick:o,className:"text-destructive focus:text-destructive","data-testid":"button-logout",children:[(0,s.jsx)(er.Z,{className:"mr-2 h-4 w-4"}),"Log out"]})]})]})})})]})}var ef=a(7226),ex=a(5929),eh=a(3040);function ep(){let{theme:e,toggleTheme:t}=(0,eh.F)();return(0,s.jsxs)(f.z,{variant:"ghost",size:"icon",onClick:t,"data-testid":"button-theme-toggle",children:["light"===e?(0,s.jsx)(ef.Z,{className:"h-5 w-5"}):(0,s.jsx)(ex.Z,{className:"h-5 w-5"}),(0,s.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}var eb=a(407);a(7782);let eg=d.forwardRef((e,t)=>{let{...a}=e;return(0,s.jsx)("nav",{ref:t,"aria-label":"breadcrumb",...a})});eg.displayName="Breadcrumb";let ev=d.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("ol",{ref:t,className:(0,m.cn)("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",a),...r})});ev.displayName="BreadcrumbList";let ej=d.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("li",{ref:t,className:(0,m.cn)("inline-flex items-center gap-1.5",a),...r})});ej.displayName="BreadcrumbItem";let eN=d.forwardRef((e,t)=>{let{asChild:a,className:r,...n}=e,i=a?o.g7:"a";return(0,s.jsx)(i,{ref:t,className:(0,m.cn)("transition-colors hover:text-foreground",r),...n})});eN.displayName="BreadcrumbLink";let ew=d.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("span",{ref:t,role:"link","aria-disabled":"true","aria-current":"page",className:(0,m.cn)("font-normal text-foreground",a),...r})});ew.displayName="BreadcrumbPage";let ey=e=>{let{children:t,className:a,...r}=e;return(0,s.jsx)("li",{role:"presentation","aria-hidden":"true",className:(0,m.cn)("[&>svg]:w-3.5 [&>svg]:h-3.5",a),...r,children:null!=t?t:(0,s.jsx)(eb.Z,{})})};ey.displayName="BreadcrumbSeparator";var ek=a(16);let eS={modules:"Modules",admin:"Administration",inventory:"Inventory",jobs:"Jobs",purchasing:"Purchasing","cycle-counts":"Cycle Counts",maintenance:"Maintenance","sales-atp":"Sales ATP",dashboards:"Dashboards",users:"Users",facilities:"Facilities",audit:"Audit Log",settings:"Settings",items:"Items",locations:"Locations",balances:"Balances",events:"Events","reason-codes":"Reason Codes"};function eC(e){let{children:t}=e,a=(0,l.usePathname)(),{data:d,isLoading:o}=(0,ek.a)({queryKey:["/api/tenant/modules"]}),c=(null==d?void 0:d.enabledModules)||["inventory","jobs","purchasing","cycle-counts","maintenance","sales-atp","dashboards"],u=a.split("/").filter(Boolean);return o?(0,s.jsx)("div",{className:"flex h-screen w-full items-center justify-center",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,s.jsx)(C,{className:"h-10 w-10 rounded-md"}),(0,s.jsx)(C,{className:"h-4 w-32"})]})}):(0,s.jsx)(z,{style:{"--sidebar-width":"16rem","--sidebar-width-icon":"3rem"},children:(0,s.jsxs)("div",{className:"flex h-screen w-full",children:[(0,s.jsx)(em,{enabledModules:c}),(0,s.jsxs)(A,{className:"flex flex-1 flex-col",children:[(0,s.jsxs)("header",{className:"sticky top-0 z-50 flex h-14 items-center gap-4 border-b bg-background px-4",children:[(0,s.jsx)(I,{"data-testid":"button-sidebar-toggle",children:(0,s.jsx)(r.Z,{className:"h-5 w-5"})}),(0,s.jsx)(eg,{className:"hidden md:flex",children:(0,s.jsxs)(ev,{children:[(0,s.jsx)(ej,{children:(0,s.jsx)(eN,{asChild:!0,children:(0,s.jsx)(B.default,{href:"/",children:"Home"})})}),u.map((e,t)=>(0,s.jsxs)(ej,{children:[(0,s.jsx)(ey,{}),t===u.length-1?(0,s.jsx)(ew,{children:eS[e]||e}):(0,s.jsx)(eN,{asChild:!0,children:(0,s.jsx)(B.default,{href:"/".concat(u.slice(0,t+1).join("/")),children:eS[e]||e})})]},e))]})}),(0,s.jsxs)("div",{className:"flex flex-1 items-center justify-end gap-2",children:[(0,s.jsxs)("div",{className:"relative hidden sm:block",children:[(0,s.jsx)(n.Z,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,s.jsx)(x.I,{type:"search",placeholder:"Search...",className:"w-[200px] pl-9 lg:w-[280px]","data-testid":"input-global-search"})]}),(0,s.jsx)(f.z,{variant:"ghost",size:"icon","data-testid":"button-notifications",children:(0,s.jsx)(i.Z,{className:"h-5 w-5"})}),(0,s.jsx)(ep,{})]})]}),(0,s.jsx)("main",{className:"flex-1 overflow-auto",children:null!=t?t:null})]})]})})}var e_=a(9501),eZ=a(3590),eR=a(1817),ez=a(1304),eE=a(9270),eI=a(401);let eA=d.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(eE.fC,{ref:t,className:(0,m.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...r,children:(0,s.jsx)(eE.z$,{className:(0,m.cn)("flex items-center justify-center text-current"),children:(0,s.jsx)(eI.Z,{className:"h-4 w-4"})})})});eA.displayName=eE.fC.displayName;var eT=a(3579);let eF=e_.RV,eO=d.createContext({}),eP=e=>{let{...t}=e;return(0,s.jsx)(eO.Provider,{value:{name:t.name},children:(0,s.jsx)(e_.Qr,{...t})})},eD=()=>{let e=d.useContext(eO),t=d.useContext(eV),{getFieldState:a,formState:s}=(0,e_.Gc)(),r=a(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:n}=t;return{id:n,name:e.name,formItemId:"".concat(n,"-form-item"),formDescriptionId:"".concat(n,"-form-item-description"),formMessageId:"".concat(n,"-form-item-message"),...r}},eV=d.createContext({}),eM=d.forwardRef((e,t)=>{let{className:a,...r}=e,n=d.useId();return(0,s.jsx)(eV.Provider,{value:{id:n},children:(0,s.jsx)("div",{ref:t,className:(0,m.cn)("space-y-2",a),...r})})});eM.displayName="FormItem";let eL=d.forwardRef((e,t)=>{let{className:a,...r}=e,{error:n,formItemId:i}=eD();return(0,s.jsx)(eT._,{ref:t,className:(0,m.cn)(n&&"text-destructive",a),htmlFor:i,...r})});eL.displayName="FormLabel";let eY=d.forwardRef((e,t)=>{let{...a}=e,{error:r,formItemId:n,formDescriptionId:i,formMessageId:l}=eD();return(0,s.jsx)(o.g7,{ref:t,id:n,"aria-describedby":r?"".concat(i," ").concat(l):"".concat(i),"aria-invalid":!!r,...a})});eY.displayName="FormControl",d.forwardRef((e,t)=>{let{className:a,...r}=e,{formDescriptionId:n}=eD();return(0,s.jsx)("p",{ref:t,id:n,className:(0,m.cn)("text-sm text-muted-foreground",a),...r})}).displayName="FormDescription";let eW=d.forwardRef((e,t)=>{var a;let{className:r,children:n,...i}=e,{error:l,formMessageId:d}=eD(),o=l?String(null!==(a=null==l?void 0:l.message)&&void 0!==a?a:""):n;return o?(0,s.jsx)("p",{ref:t,id:d,className:(0,m.cn)("text-sm font-medium text-destructive",r),...i,children:o}):null});eW.displayName="FormMessage";var eU=a(9459),eB=a(1229);let eq=eB.z.object({email:eB.z.string().email("Invalid email address"),password:eB.z.string().min(1,"Password is required")});function eJ(){let{login:e}=(0,ed.a)(),{toast:t}=(0,eU.pm)(),[a,r]=(0,d.useState)(!1),n=(0,e_.cI)({resolver:(0,eZ.F)(eq),defaultValues:{email:"",password:""}}),i=async a=>{r(!0);try{await e(a.email,a.password),t({title:"Welcome back!",description:"You have successfully logged in."})}catch(e){t({title:"Login failed",description:e instanceof Error?e.message:"Invalid email or password",variant:"destructive"})}finally{r(!1)}};return(0,s.jsxs)("div",{className:"flex min-h-screen flex-col bg-background",children:[(0,s.jsx)("header",{className:"flex items-center justify-end p-4",children:(0,s.jsx)(ep,{})}),(0,s.jsx)("main",{className:"flex flex-1 items-center justify-center p-4",children:(0,s.jsxs)(ez.Zb,{className:"w-full max-w-md",children:[(0,s.jsxs)(ez.Ol,{className:"text-center",children:[(0,s.jsx)("div",{className:"mx-auto mb-4 flex h-14 w-14 items-center justify-center rounded-lg bg-primary text-primary-foreground",children:(0,s.jsx)(q.Z,{className:"h-8 w-8"})}),(0,s.jsx)(ez.ll,{className:"text-2xl font-semibold tracking-tight",children:"Warehouse Core"}),(0,s.jsx)(ez.SZ,{children:"Sign in to access your warehouse management platform"})]}),(0,s.jsxs)(ez.aY,{children:[(0,s.jsx)(eF,{...n,children:(0,s.jsxs)("form",{onSubmit:n.handleSubmit(i),className:"space-y-4",children:[(0,s.jsx)(eP,{control:n.control,name:"email",render:e=>{let{field:t}=e;return(0,s.jsxs)(eM,{children:[(0,s.jsx)(eL,{children:"Email"}),(0,s.jsx)(eY,{children:(0,s.jsx)(x.I,{type:"email",placeholder:"admin@example.com",autoComplete:"email","data-testid":"input-email",...t})}),(0,s.jsx)(eW,{})]})}}),(0,s.jsx)(eP,{control:n.control,name:"password",render:e=>{let{field:t}=e;return(0,s.jsxs)(eM,{children:[(0,s.jsx)(eL,{children:"Password"}),(0,s.jsx)(eY,{children:(0,s.jsx)(x.I,{type:"password",placeholder:"Enter your password",autoComplete:"current-password","data-testid":"input-password",...t})}),(0,s.jsx)(eW,{})]})}}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(eA,{id:"remember","data-testid":"checkbox-remember"}),(0,s.jsx)("label",{htmlFor:"remember",className:"text-sm text-muted-foreground leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Remember me"})]}),(0,s.jsx)(f.z,{type:"submit",className:"w-full",disabled:a,"data-testid":"button-login",children:a?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eR.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign in"})]})}),(0,s.jsx)("div",{className:"mt-6 text-center",children:(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Demo credentials: admin@example.com / password123"})})]})]})}),(0,s.jsx)("footer",{className:"p-4 text-center text-xs text-muted-foreground",children:"Warehouse Core Platform"})]})}var eX=a(6858);function eH(){let{user:e,availableSites:t,selectSite:a,logout:r}=(0,ed.a)(),n=e=>{a(e)},i=e?"".concat(e.firstName.charAt(0)).concat(e.lastName.charAt(0)).toUpperCase():"??";return(0,s.jsxs)("div",{className:"flex min-h-screen flex-col bg-background",children:[(0,s.jsxs)("header",{className:"flex items-center justify-between border-b p-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(ei.qE,{className:"h-8 w-8",children:(0,s.jsx)(ei.Q5,{className:"bg-primary text-primary-foreground text-xs",children:i})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"text-sm font-medium",children:["Welcome, ",null==e?void 0:e.firstName," ",null==e?void 0:e.lastName]}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:null==e?void 0:e.tenantName})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(ep,{}),(0,s.jsx)(f.z,{variant:"ghost",size:"sm",onClick:r,"data-testid":"button-logout-selector",children:"Sign out"})]})]}),(0,s.jsx)("main",{className:"flex flex-1 flex-col items-center justify-center p-6",children:(0,s.jsxs)("div",{className:"w-full max-w-2xl",children:[(0,s.jsxs)("div",{className:"mb-8 text-center",children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold tracking-tight",children:"Select a Site"}),(0,s.jsx)("p",{className:"mt-2 text-muted-foreground",children:"Choose a site to continue to your dashboard"})]}),(0,s.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:t.map(e=>(0,s.jsx)(ez.Zb,{className:"cursor-pointer transition-all hover-elevate",onClick:()=>n(e),"data-testid":"card-site-".concat(e.id),children:(0,s.jsx)(ez.Ol,{className:"pb-3",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-md bg-primary/10 text-primary",children:(0,s.jsx)(ee.Z,{className:"h-5 w-5"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)(ez.ll,{className:"text-base font-medium",children:e.name}),e.address&&(0,s.jsx)(ez.SZ,{className:"text-xs mt-1",children:e.address})]}),(0,s.jsx)(eX.Z,{className:"h-4 w-4 text-muted-foreground"})]})})},e.id))}),0===t.length&&(0,s.jsx)(ez.Zb,{className:"text-center",children:(0,s.jsxs)(ez.aY,{className:"py-12",children:[(0,s.jsx)(ee.Z,{className:"mx-auto h-12 w-12 text-muted-foreground"}),(0,s.jsx)("h3",{className:"mt-4 text-lg font-medium",children:"No Sites Available"}),(0,s.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:"You don't have access to any sites. Please contact your administrator."})]})})]})})]})}function eQ(e){let{children:t}=e,{isAuthenticated:a,isLoading:r,currentSite:n,availableSites:i}=(0,ed.a)();return r?(0,s.jsx)("div",{className:"flex h-screen w-full items-center justify-center bg-background",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,s.jsx)(C,{className:"h-14 w-14 rounded-lg"}),(0,s.jsx)(C,{className:"h-4 w-32"}),(0,s.jsx)(C,{className:"h-3 w-24"})]})}):a?!n&&i.length>1?(0,s.jsx)(eH,{}):(0,s.jsx)(eC,{children:t}):(0,s.jsx)(eJ,{})}},9072:function(e,t,a){"use strict";a.d(t,{Q5:function(){return d},qE:function(){return l}});var s=a(7437),r=a(2265),n=a(4930),i=a(1216);let l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.fC,{ref:t,className:(0,i.cn)("\n      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10\n      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...r})});l.displayName=n.fC.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.Ee,{ref:t,className:(0,i.cn)("aspect-square h-full w-full",a),...r})}).displayName=n.Ee.displayName;let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.NY,{ref:t,className:(0,i.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...r})});d.displayName=n.NY.displayName},2473:function(e,t,a){"use strict";a.d(t,{C:function(){return l}});var s=a(7437);a(2265);var r=a(535),n=a(1216);let i=(0,r.j)("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:a,...r}=e;return(0,s.jsx)("div",{className:(0,n.cn)(i({variant:a}),t),...r})}},4513:function(e,t,a){"use strict";a.d(t,{z:function(){return o}});var s=a(7437),r=a(2265),n=a(7053),i=a(535),l=a(1216);let d=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef((e,t)=>{let{className:a,variant:r,size:i,asChild:o=!1,...c}=e,u=o?n.g7:"button";return(0,s.jsx)(u,{className:(0,l.cn)(d({variant:r,size:i,className:a})),ref:t,...c})});o.displayName="Button"},1304:function(e,t,a){"use strict";a.d(t,{Ol:function(){return l},SZ:function(){return o},Zb:function(){return i},aY:function(){return c},ll:function(){return d}});var s=a(7437),r=a(2265),n=a(1216);let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",a),...r})});i.displayName="Card";let l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...r})});l.displayName="CardHeader";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});d.displayName="CardTitle";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...r})});o.displayName="CardDescription";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",a),...r})});c.displayName="CardContent",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter"},7459:function(e,t,a){"use strict";a.d(t,{$F:function(){return u},AW:function(){return m},VD:function(){return x},Xi:function(){return f},h_:function(){return c}});var s=a(7437),r=a(2265),n=a(85),i=a(407),l=a(401),d=a(519),o=a(1216);let c=n.fC,u=n.xz;n.ZA,n.Uv,n.Tr,n.Ee,r.forwardRef((e,t)=>{let{className:a,inset:r,children:l,...d}=e;return(0,s.jsxs)(n.fF,{ref:t,className:(0,o.cn)("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",a),...d,children:[l,(0,s.jsx)(i.Z,{className:"ml-auto"})]})}).displayName=n.fF.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.tu,{ref:t,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",a),...r})}).displayName=n.tu.displayName;let m=r.forwardRef((e,t)=>{let{className:a,sideOffset:r=4,...i}=e;return(0,s.jsx)(n.Uv,{children:(0,s.jsx)(n.VY,{ref:t,sideOffset:r,className:(0,o.cn)("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",a),...i})})});m.displayName=n.VY.displayName;let f=r.forwardRef((e,t)=>{let{className:a,inset:r,...i}=e;return(0,s.jsx)(n.ck,{ref:t,className:(0,o.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",a),...i})});f.displayName=n.ck.displayName,r.forwardRef((e,t)=>{let{className:a,children:r,checked:i,...d}=e;return(0,s.jsxs)(n.oC,{ref:t,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:i,...d,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(n.wU,{children:(0,s.jsx)(l.Z,{className:"h-4 w-4"})})}),r]})}).displayName=n.oC.displayName,r.forwardRef((e,t)=>{let{className:a,children:r,...i}=e;return(0,s.jsxs)(n.Rk,{ref:t,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...i,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(n.wU,{children:(0,s.jsx)(d.Z,{className:"h-2 w-2 fill-current"})})}),r]})}).displayName=n.Rk.displayName,r.forwardRef((e,t)=>{let{className:a,inset:r,...i}=e;return(0,s.jsx)(n.__,{ref:t,className:(0,o.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",a),...i})}).displayName=n.__.displayName;let x=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.Z0,{ref:t,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",a),...r})});x.displayName=n.Z0.displayName},1219:function(e,t,a){"use strict";a.d(t,{I:function(){return i}});var s=a(7437),r=a(2265),n=a(1216);let i=r.forwardRef((e,t)=>{let{className:a,type:r,...i}=e;return(0,s.jsx)("input",{type:r,className:(0,n.cn)("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...i})});i.displayName="Input"},3579:function(e,t,a){"use strict";a.d(t,{_:function(){return o}});var s=a(7437),r=a(2265),n=a(6394),i=a(535),l=a(1216);let d=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.f,{ref:t,className:(0,l.cn)(d(),a),...r})});o.displayName=n.f.displayName},6916:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var s=a(7437),r=a(2265),n=a(5156),i=a(1216);let l=r.forwardRef((e,t)=>{let{className:a,orientation:r="horizontal",decorative:l=!0,...d}=e;return(0,s.jsx)(n.f,{ref:t,decorative:l,orientation:r,className:(0,i.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",a),...d})});l.displayName=n.f.displayName},6470:function(e,t,a){"use strict";a.d(t,{_v:function(){return c},aJ:function(){return o},pn:function(){return l},u:function(){return d}});var s=a(7437),r=a(2265),n=a(1312),i=a(1216);let l=n.zt,d=n.fC,o=n.xz,c=r.forwardRef((e,t)=>{let{className:a,sideOffset:r=4,...l}=e;return(0,s.jsx)(n.VY,{ref:t,sideOffset:r,className:(0,i.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",a),...l})});c.displayName=n.VY.displayName},9459:function(e,t,a){"use strict";a.d(t,{pm:function(){return m}});var s=a(2265);let r=0,n=new Map,i=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?i(a):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},d=[],o={toasts:[]};function c(e){o=l(o,e),d.forEach(e=>{e(o)})}function u(e){let{...t}=e,a=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:a});return c({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||s()}}}),{id:a,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function m(){let[e,t]=s.useState(o);return s.useEffect(()=>(d.push(t),()=>{let e=d.indexOf(t);e>-1&&d.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},3340:function(e,t,a){"use strict";a.d(t,{H:function(){return l},a:function(){return d}});var s=a(7437),r=a(2265),n=a(3196);let i=(0,r.createContext)(void 0);function l(e){let{children:t}=e,[a,l]=(0,r.useState)(null),[d,o]=(0,r.useState)(!0),[c,u]=(0,r.useState)(null),[m,f]=(0,r.useState)([]),x=(0,r.useCallback)(async()=>{try{let a=await fetch("/api/auth/me",{credentials:"include"});if(a.ok){var e,t;let s=await a.json();if(l(s.user),f(s.sites||[]),(null===(e=s.sites)||void 0===e?void 0:e.length)===1)u(s.sites[0]);else{let e=localStorage.getItem("currentSiteId");if(e){let a=null===(t=s.sites)||void 0===t?void 0:t.find(t=>t.id===e);a&&u(a)}}}else l(null),f([]),u(null)}catch(e){l(null)}finally{o(!1)}},[]);(0,r.useEffect)(()=>{x()},[x]);let h=async(e,t)=>{var a;let s=await (0,n.Nv)("POST","/api/auth/login",{email:e,password:t}),r=await s.json();l(r.user),f(r.sites||[]),(null===(a=r.sites)||void 0===a?void 0:a.length)===1&&u(r.sites[0])},p=async()=>{await (0,n.Nv)("POST","/api/auth/logout"),l(null),u(null),f([]),localStorage.removeItem("currentSiteId")};return(0,s.jsx)(i.Provider,{value:{user:a,isLoading:d,isAuthenticated:!!a,currentSite:c,availableSites:m,login:h,logout:p,selectSite:e=>{u(e),localStorage.setItem("currentSiteId",e.id)},refreshUser:x},children:t})}function d(){let e=(0,r.useContext)(i);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},3196:function(e,t,a){"use strict";async function s(e){if(!e.ok){let t=await e.text()||e.statusText;throw Error("".concat(e.status,": ").concat(t))}}async function r(e,t,a){let r=await fetch(t,{method:e,headers:a?{"Content-Type":"application/json"}:{},body:a?JSON.stringify(a):void 0,credentials:"include"});return await s(r),r}a.d(t,{Eh:function(){return n},Nv:function(){return r}});let n=new(a(946)).S({defaultOptions:{queries:{queryFn:(e=>{let{on401:t}=e;return async e=>{let{queryKey:a}=e,r=await fetch(a.join("/"),{credentials:"include"});return"returnNull"===t&&401===r.status?null:(await s(r),await r.json())}})({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}})},3040:function(e,t,a){"use strict";a.d(t,{F:function(){return l},f:function(){return i}});var s=a(7437),r=a(2265);let n=(0,r.createContext)(void 0);function i(e){let{children:t}=e,[a,i]=(0,r.useState)(()=>localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"));return(0,r.useEffect)(()=>{let e=document.documentElement;e.classList.remove("light","dark"),e.classList.add(a),localStorage.setItem("theme",a)},[a]),(0,s.jsx)(n.Provider,{value:{theme:a,setTheme:i,toggleTheme:()=>{i(e=>"light"===e?"dark":"light")}},children:t})}function l(){let e=(0,r.useContext)(n);if(!e)throw Error("useTheme must be used within a ThemeProvider");return e}},1216:function(e,t,a){"use strict";a.d(t,{cn:function(){return n}});var s=a(1994),r=a(3335);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.m6)((0,s.W)(t))}}},function(e){e.O(0,[454,946,720,661,306,648,16,183,137,997,278,971,117,744],function(){return e(e.s=9495)}),_N_E=e.O()}]);