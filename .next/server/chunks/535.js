exports.id=535,exports.ids=[535],exports.modules={9222:(e,a,s)=>{Promise.resolve().then(s.bind(s,3171))},3171:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>eJ});var t=s(326),r=s(748),i=s(8307),d=s(6507),n=s(5047),l=s(7577),o=s(4214),c=s(9360),m=s(9664),u=s(7678),x=s(2961),f=s(1206),h=s(5582),p=s(8958),b=s(4019);let g=p.fC;p.xz,p.x8;let j=p.h_,v=l.forwardRef(({className:e,...a},s)=>t.jsx(p.aV,{className:(0,u.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a,ref:s}));v.displayName=p.aV.displayName;let N=(0,c.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),w=l.forwardRef(({side:e="right",className:a,children:s,...r},i)=>(0,t.jsxs)(j,{children:[t.jsx(v,{}),(0,t.jsxs)(p.VY,{ref:i,className:(0,u.cn)(N({side:e}),a),...r,children:[s,(0,t.jsxs)(p.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[t.jsx(b.Z,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));w.displayName=p.VY.displayName;let y=({className:e,...a})=>t.jsx("div",{className:(0,u.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...a});y.displayName="SheetHeader";let k=l.forwardRef(({className:e,...a},s)=>t.jsx(p.Dx,{ref:s,className:(0,u.cn)("text-lg font-semibold text-foreground",e),...a}));k.displayName=p.Dx.displayName;let C=l.forwardRef(({className:e,...a},s)=>t.jsx(p.dk,{ref:s,className:(0,u.cn)("text-sm text-muted-foreground",e),...a}));function Z({className:e,...a}){return t.jsx("div",{className:(0,u.cn)("animate-pulse rounded-md bg-muted",e),...a})}C.displayName=p.dk.displayName;var R=s(8535);let z=l.createContext(null);function S(){let e=l.useContext(z);if(!e)throw Error("useSidebar must be used within a SidebarProvider.");return e}function _({defaultOpen:e=!0,open:a,onOpenChange:s,className:r,style:i,children:d,...n}){let o=function(){let[e,a]=l.useState(void 0);return l.useEffect(()=>{let e=window.matchMedia("(max-width: 767px)"),s=()=>{a(window.innerWidth<768)};return e.addEventListener("change",s),a(window.innerWidth<768),()=>e.removeEventListener("change",s)},[]),!!e}(),[c,m]=l.useState(!1),[x,f]=l.useState(e),h=a??x,p=l.useCallback(e=>{let a="function"==typeof e?e(h):e;s?s(a):f(a),document.cookie=`sidebar_state=${a}; path=/; max-age=604800`},[s,h]),b=l.useCallback(()=>o?m(e=>!e):p(e=>!e),[o,p,m]);l.useEffect(()=>{let e=e=>{"b"===e.key&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),b())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[b]);let g=h?"expanded":"collapsed",j=l.useMemo(()=>({state:g,open:h,setOpen:p,isMobile:o,openMobile:c,setOpenMobile:m,toggleSidebar:b}),[g,h,p,o,c,m,b]);return t.jsx(z.Provider,{value:j,children:t.jsx(R.pn,{delayDuration:0,children:t.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":"16rem","--sidebar-width-icon":"3rem",...i},className:(0,u.cn)("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",r),...n,children:d})})})}function F({side:e="left",variant:a="sidebar",collapsible:s="offcanvas",className:r,children:i,...d}){let{isMobile:n,state:l,openMobile:o,setOpenMobile:c}=S();return"none"===s?t.jsx("div",{"data-slot":"sidebar",className:(0,u.cn)("bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col",r),...d,children:i}):n?t.jsx(g,{open:o,onOpenChange:c,...d,children:(0,t.jsxs)(w,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden",style:{"--sidebar-width":"18rem"},side:e,children:[(0,t.jsxs)(y,{className:"sr-only",children:[t.jsx(k,{children:"Sidebar"}),t.jsx(C,{children:"Displays the mobile sidebar."})]}),t.jsx("div",{className:"flex h-full w-full flex-col",children:i})]})}):(0,t.jsxs)("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":l,"data-collapsible":"collapsed"===l?s:"","data-variant":a,"data-side":e,"data-slot":"sidebar",children:[t.jsx("div",{"data-slot":"sidebar-gap",className:(0,u.cn)("relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180","floating"===a||"inset"===a?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]")}),t.jsx("div",{"data-slot":"sidebar-container",className:(0,u.cn)("fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex","left"===e?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]","floating"===a||"inset"===a?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...d,children:t.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:i})})]})}function $({className:e,onClick:a,...s}){let{toggleSidebar:r}=S();return(0,t.jsxs)(x.z,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:(0,u.cn)("h-7 w-7",e),onClick:e=>{a?.(e),r()},...s,children:[t.jsx(m.Z,{}),t.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function A({className:e,...a}){return t.jsx("main",{"data-slot":"sidebar-inset",className:(0,u.cn)("bg-background relative flex w-full flex-1 flex-col","md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2",e),...a})}function E({className:e,...a}){return t.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:(0,u.cn)("flex flex-col gap-2 p-2",e),...a})}function I({className:e,...a}){return t.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:(0,u.cn)("flex flex-col gap-2 p-2",e),...a})}function P({className:e,...a}){return t.jsx(h.Z,{"data-slot":"sidebar-separator","data-sidebar":"separator",className:(0,u.cn)("bg-sidebar-border mx-2 w-auto",e),...a})}function D({className:e,...a}){return t.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:(0,u.cn)("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...a})}function V({className:e,...a}){return t.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:(0,u.cn)("relative flex w-full min-w-0 flex-col p-2",e),...a})}function L({className:e,asChild:a=!1,...s}){let r=a?o.g7:"div";return t.jsx(r,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:(0,u.cn)("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...s})}function M({className:e,...a}){return t.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:(0,u.cn)("w-full text-sm",e),...a})}function W({className:e,...a}){return t.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:(0,u.cn)("flex w-full min-w-0 flex-col gap-1",e),...a})}function Y({className:e,...a}){return t.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:(0,u.cn)("group/menu-item relative",e),...a})}let B=(0,c.j)("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function U({asChild:e=!1,isActive:a=!1,variant:s="default",size:r="default",tooltip:i,className:d,...n}){let l=e?o.g7:"button",{isMobile:c,state:m}=S(),x=t.jsx(l,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":r,"data-active":a,className:(0,u.cn)(B({variant:s,size:r}),d),...n});return i?("string"==typeof i&&(i={children:i}),(0,t.jsxs)(R.u,{children:[t.jsx(R.aJ,{asChild:!0,children:x}),t.jsx(R._v,{side:"right",align:"center",hidden:"collapsed"!==m||c,...i})]})):x}var q=s(434),O=s(8705),T=s(7546),Q=s(7671),X=s(1405),J=s(7048),K=s(7069),H=s(4319),G=s(4061),ee=s(9734),ea=s(210),es=s(8378),et=s(8393),er=s(1810),ei=s(3514),ed=s(973),en=s(3802),el=s(5770);let eo={inventory:O.Z,jobs:T.Z,purchasing:Q.Z,"cycle-counts":X.Z,maintenance:J.Z,"sales-atp":K.Z,dashboards:H.Z},ec={inventory:"Inventory",jobs:"Jobs",purchasing:"Purchasing","cycle-counts":"Cycle Counts",maintenance:"Maintenance","sales-atp":"Sales ATP",dashboards:"Dashboards"},em=[{title:"Users",url:"/admin/users",icon:G.Z},{title:"Facilities",url:"/admin/facilities",icon:ee.Z},{title:"Audit Log",url:"/admin/audit",icon:ea.Z},{title:"Settings",url:"/admin/settings",icon:es.Z}];function eu({enabledModules:e}){let a=(0,n.usePathname)(),{user:s,currentSite:r,availableSites:i,selectSite:d,logout:l}=(0,el.a)(),o=s?`${s.firstName.charAt(0)}${s.lastName.charAt(0)}`.toUpperCase():"??",c=s?.role==="Admin"||s?.role==="Supervisor";return(0,t.jsxs)(F,{children:[(0,t.jsxs)(E,{className:"border-b border-sidebar-border",children:[t.jsx("div",{className:"px-3 py-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-md bg-primary text-primary-foreground",children:t.jsx(O.Z,{className:"h-5 w-5"})}),(0,t.jsxs)("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-sm font-semibold",children:"Warehouse Core"}),t.jsx("span",{className:"text-xs text-muted-foreground",children:s?.tenantName})]})]})}),i.length>1&&t.jsx("div",{className:"px-3 pb-3",children:(0,t.jsxs)(ei.h_,{children:[t.jsx(ei.$F,{asChild:!0,children:(0,t.jsxs)("button",{className:"flex w-full items-center justify-between rounded-md border border-sidebar-border bg-sidebar px-3 py-2 text-sm hover-elevate","data-testid":"button-site-selector",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(ee.Z,{className:"h-4 w-4 text-muted-foreground"}),t.jsx("span",{children:r?.name||"Select Site"})]}),t.jsx(et.Z,{className:"h-4 w-4 text-muted-foreground"})]})}),t.jsx(ei.AW,{align:"start",className:"w-56",children:i.map(e=>t.jsx(ei.Xi,{onClick:()=>d(e),className:r?.id===e.id?"bg-accent":"","data-testid":`menu-item-site-${e.id}`,children:e.name},e.id))})]})})]}),(0,t.jsxs)(D,{children:[(0,t.jsxs)(V,{children:[t.jsx(L,{className:"text-xs font-medium uppercase tracking-wide text-muted-foreground",children:"Modules"}),t.jsx(M,{children:t.jsx(W,{children:e.map(e=>{let s=eo[e]||O.Z,r=ec[e]||e,i=`/modules/${e}`;return t.jsx(Y,{children:t.jsx(U,{asChild:!0,isActive:a===i,children:(0,t.jsxs)(q.default,{href:i,"data-testid":`link-module-${e}`,children:[t.jsx(s,{className:"h-4 w-4"}),t.jsx("span",{children:r})]})})},e)})})})]}),c&&(0,t.jsxs)(t.Fragment,{children:[t.jsx(P,{}),(0,t.jsxs)(V,{children:[t.jsx(L,{className:"text-xs font-medium uppercase tracking-wide text-muted-foreground",children:"Administration"}),t.jsx(M,{children:t.jsx(W,{children:em.map(e=>{let s=a===e.url;return t.jsx(Y,{children:t.jsx(U,{asChild:!0,isActive:s,children:(0,t.jsxs)(q.default,{href:e.url,"data-testid":`link-admin-${e.title.toLowerCase()}`,children:[t.jsx(e.icon,{className:"h-4 w-4"}),t.jsx("span",{children:e.title})]})})},e.title)})})})]})]})]}),t.jsx(I,{className:"border-t border-sidebar-border",children:t.jsx("div",{className:"p-3",children:(0,t.jsxs)(ei.h_,{children:[t.jsx(ei.$F,{asChild:!0,children:(0,t.jsxs)("button",{className:"flex w-full items-center gap-3 rounded-md px-2 py-2 hover-elevate","data-testid":"button-user-menu",children:[t.jsx(ed.qE,{className:"h-8 w-8",children:t.jsx(ed.Q5,{className:"bg-primary text-primary-foreground text-xs",children:o})}),(0,t.jsxs)("div",{className:"flex flex-1 flex-col items-start text-left",children:[(0,t.jsxs)("span",{className:"text-sm font-medium",children:[s?.firstName," ",s?.lastName]}),t.jsx("span",{className:"text-xs text-muted-foreground",children:s?.email})]}),t.jsx(en.C,{variant:"secondary",className:"text-xs",children:s?.role})]})}),(0,t.jsxs)(ei.AW,{align:"end",className:"w-56",children:[(0,t.jsxs)("div",{className:"px-2 py-1.5",children:[(0,t.jsxs)("p",{className:"text-sm font-medium",children:[s?.firstName," ",s?.lastName]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:s?.email})]}),t.jsx(ei.VD,{}),t.jsx(ei.Xi,{asChild:!0,children:(0,t.jsxs)(q.default,{href:"/admin/settings",className:"cursor-pointer",children:[t.jsx(es.Z,{className:"mr-2 h-4 w-4"}),"Settings"]})}),t.jsx(ei.VD,{}),(0,t.jsxs)(ei.Xi,{onClick:l,className:"text-destructive focus:text-destructive","data-testid":"button-logout",children:[t.jsx(er.Z,{className:"mr-2 h-4 w-4"}),"Log out"]})]})]})})})]})}var ex=s(2607),ef=s(850),eh=s(5712);function ep(){let{theme:e,toggleTheme:a}=(0,eh.F)();return(0,t.jsxs)(x.z,{variant:"ghost",size:"icon",onClick:a,"data-testid":"button-theme-toggle",children:["light"===e?t.jsx(ex.Z,{className:"h-5 w-5"}):t.jsx(ef.Z,{className:"h-5 w-5"}),t.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}var eb=s(9183);s(5919);let eg=l.forwardRef(({...e},a)=>t.jsx("nav",{ref:a,"aria-label":"breadcrumb",...e}));eg.displayName="Breadcrumb";let ej=l.forwardRef(({className:e,...a},s)=>t.jsx("ol",{ref:s,className:(0,u.cn)("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",e),...a}));ej.displayName="BreadcrumbList";let ev=l.forwardRef(({className:e,...a},s)=>t.jsx("li",{ref:s,className:(0,u.cn)("inline-flex items-center gap-1.5",e),...a}));ev.displayName="BreadcrumbItem";let eN=l.forwardRef(({asChild:e,className:a,...s},r)=>{let i=e?o.g7:"a";return t.jsx(i,{ref:r,className:(0,u.cn)("transition-colors hover:text-foreground",a),...s})});eN.displayName="BreadcrumbLink";let ew=l.forwardRef(({className:e,...a},s)=>t.jsx("span",{ref:s,role:"link","aria-disabled":"true","aria-current":"page",className:(0,u.cn)("font-normal text-foreground",e),...a}));ew.displayName="BreadcrumbPage";let ey=({children:e,className:a,...s})=>t.jsx("li",{role:"presentation","aria-hidden":"true",className:(0,u.cn)("[&>svg]:w-3.5 [&>svg]:h-3.5",a),...s,children:e??t.jsx(eb.Z,{})});ey.displayName="BreadcrumbSeparator";var ek=s(7276);let eC={modules:"Modules",admin:"Administration",inventory:"Inventory",jobs:"Jobs",purchasing:"Purchasing","cycle-counts":"Cycle Counts",maintenance:"Maintenance","sales-atp":"Sales ATP",dashboards:"Dashboards",users:"Users",facilities:"Facilities",audit:"Audit Log",settings:"Settings",items:"Items",locations:"Locations",balances:"Balances",events:"Events","reason-codes":"Reason Codes"};function eZ({children:e}){let a=(0,n.usePathname)(),{data:s,isLoading:l}=(0,ek.a)({queryKey:["/api/tenant/modules"]}),o=s?.enabledModules||["inventory","jobs","purchasing","cycle-counts","maintenance","sales-atp","dashboards"],c=a.split("/").filter(Boolean);return l?t.jsx("div",{className:"flex h-screen w-full items-center justify-center",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[t.jsx(Z,{className:"h-10 w-10 rounded-md"}),t.jsx(Z,{className:"h-4 w-32"})]})}):t.jsx(_,{style:{"--sidebar-width":"16rem","--sidebar-width-icon":"3rem"},children:(0,t.jsxs)("div",{className:"flex h-screen w-full",children:[t.jsx(eu,{enabledModules:o}),(0,t.jsxs)(A,{className:"flex flex-1 flex-col",children:[(0,t.jsxs)("header",{className:"sticky top-0 z-50 flex h-14 items-center gap-4 border-b bg-background px-4",children:[t.jsx($,{"data-testid":"button-sidebar-toggle",children:t.jsx(r.Z,{className:"h-5 w-5"})}),t.jsx(eg,{className:"hidden md:flex",children:(0,t.jsxs)(ej,{children:[t.jsx(ev,{children:t.jsx(eN,{asChild:!0,children:t.jsx(q.default,{href:"/",children:"Home"})})}),c.map((e,a)=>(0,t.jsxs)(ev,{children:[t.jsx(ey,{}),a===c.length-1?t.jsx(ew,{children:eC[e]||e}):t.jsx(eN,{asChild:!0,children:t.jsx(q.default,{href:`/${c.slice(0,a+1).join("/")}`,children:eC[e]||e})})]},e))]})}),(0,t.jsxs)("div",{className:"flex flex-1 items-center justify-end gap-2",children:[(0,t.jsxs)("div",{className:"relative hidden sm:block",children:[t.jsx(i.Z,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),t.jsx(f.I,{type:"search",placeholder:"Search...",className:"w-[200px] pl-9 lg:w-[280px]","data-testid":"input-global-search"})]}),t.jsx(x.z,{variant:"ghost",size:"icon","data-testid":"button-notifications",children:t.jsx(d.Z,{className:"h-5 w-5"})}),t.jsx(ep,{})]})]}),t.jsx("main",{className:"flex-1 overflow-auto",children:e??null})]})]})})}var eR=s(4723),ez=s(4064),eS=s(7506),e_=s(1563),eF=s(3635),e$=s(2933);let eA=l.forwardRef(({className:e,...a},s)=>t.jsx(eF.fC,{ref:s,className:(0,u.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...a,children:t.jsx(eF.z$,{className:(0,u.cn)("flex items-center justify-center text-current"),children:t.jsx(e$.Z,{className:"h-4 w-4"})})}));eA.displayName=eF.fC.displayName;var eE=s(9340);let eI=eR.RV,eP=l.createContext({}),eD=({...e})=>t.jsx(eP.Provider,{value:{name:e.name},children:t.jsx(eR.Qr,{...e})}),eV=()=>{let e=l.useContext(eP),a=l.useContext(eL),{getFieldState:s,formState:t}=(0,eR.Gc)(),r=s(e.name,t);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=a;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...r}},eL=l.createContext({}),eM=l.forwardRef(({className:e,...a},s)=>{let r=l.useId();return t.jsx(eL.Provider,{value:{id:r},children:t.jsx("div",{ref:s,className:(0,u.cn)("space-y-2",e),...a})})});eM.displayName="FormItem";let eW=l.forwardRef(({className:e,...a},s)=>{let{error:r,formItemId:i}=eV();return t.jsx(eE._,{ref:s,className:(0,u.cn)(r&&"text-destructive",e),htmlFor:i,...a})});eW.displayName="FormLabel";let eY=l.forwardRef(({...e},a)=>{let{error:s,formItemId:r,formDescriptionId:i,formMessageId:d}=eV();return t.jsx(o.g7,{ref:a,id:r,"aria-describedby":s?`${i} ${d}`:`${i}`,"aria-invalid":!!s,...e})});eY.displayName="FormControl",l.forwardRef(({className:e,...a},s)=>{let{formDescriptionId:r}=eV();return t.jsx("p",{ref:s,id:r,className:(0,u.cn)("text-sm text-muted-foreground",e),...a})}).displayName="FormDescription";let eB=l.forwardRef(({className:e,children:a,...s},r)=>{let{error:i,formMessageId:d}=eV(),n=i?String(i?.message??""):a;return n?t.jsx("p",{ref:r,id:d,className:(0,u.cn)("text-sm font-medium text-destructive",e),...s,children:n}):null});eB.displayName="FormMessage";var eU=s(6598),eq=s(7256);let eO=eq.z.object({email:eq.z.string().email("Invalid email address"),password:eq.z.string().min(1,"Password is required")});function eT(){let{login:e}=(0,el.a)(),{toast:a}=(0,eU.pm)(),[s,r]=(0,l.useState)(!1),i=(0,eR.cI)({resolver:(0,ez.F)(eO),defaultValues:{email:"",password:""}}),d=async s=>{r(!0);try{await e(s.email,s.password),a({title:"Welcome back!",description:"You have successfully logged in."})}catch(e){a({title:"Login failed",description:e instanceof Error?e.message:"Invalid email or password",variant:"destructive"})}finally{r(!1)}};return(0,t.jsxs)("div",{className:"flex min-h-screen flex-col bg-background",children:[t.jsx("header",{className:"flex items-center justify-end p-4",children:t.jsx(ep,{})}),t.jsx("main",{className:"flex flex-1 items-center justify-center p-4",children:(0,t.jsxs)(e_.Zb,{className:"w-full max-w-md",children:[(0,t.jsxs)(e_.Ol,{className:"text-center",children:[t.jsx("div",{className:"mx-auto mb-4 flex h-14 w-14 items-center justify-center rounded-lg bg-primary text-primary-foreground",children:t.jsx(O.Z,{className:"h-8 w-8"})}),t.jsx(e_.ll,{className:"text-2xl font-semibold tracking-tight",children:"Warehouse Core"}),t.jsx(e_.SZ,{children:"Sign in to access your warehouse management platform"})]}),(0,t.jsxs)(e_.aY,{children:[t.jsx(eI,{...i,children:(0,t.jsxs)("form",{onSubmit:i.handleSubmit(d),className:"space-y-4",children:[t.jsx(eD,{control:i.control,name:"email",render:({field:e})=>(0,t.jsxs)(eM,{children:[t.jsx(eW,{children:"Email"}),t.jsx(eY,{children:t.jsx(f.I,{type:"email",placeholder:"admin@example.com",autoComplete:"email","data-testid":"input-email",...e})}),t.jsx(eB,{})]})}),t.jsx(eD,{control:i.control,name:"password",render:({field:e})=>(0,t.jsxs)(eM,{children:[t.jsx(eW,{children:"Password"}),t.jsx(eY,{children:t.jsx(f.I,{type:"password",placeholder:"Enter your password",autoComplete:"current-password","data-testid":"input-password",...e})}),t.jsx(eB,{})]})}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(eA,{id:"remember","data-testid":"checkbox-remember"}),t.jsx("label",{htmlFor:"remember",className:"text-sm text-muted-foreground leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Remember me"})]}),t.jsx(x.z,{type:"submit",className:"w-full",disabled:s,"data-testid":"button-login",children:s?(0,t.jsxs)(t.Fragment,{children:[t.jsx(eS.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign in"})]})}),t.jsx("div",{className:"mt-6 text-center",children:t.jsx("p",{className:"text-xs text-muted-foreground",children:"Demo credentials: admin@example.com / password123"})})]})]})}),t.jsx("footer",{className:"p-4 text-center text-xs text-muted-foreground",children:"Warehouse Core Platform"})]})}var eQ=s(4230);function eX(){let{user:e,availableSites:a,selectSite:s,logout:r}=(0,el.a)(),i=e=>{s(e)},d=e?`${e.firstName.charAt(0)}${e.lastName.charAt(0)}`.toUpperCase():"??";return(0,t.jsxs)("div",{className:"flex min-h-screen flex-col bg-background",children:[(0,t.jsxs)("header",{className:"flex items-center justify-between border-b p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx(ed.qE,{className:"h-8 w-8",children:t.jsx(ed.Q5,{className:"bg-primary text-primary-foreground text-xs",children:d})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-sm font-medium",children:["Welcome, ",e?.firstName," ",e?.lastName]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:e?.tenantName})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(ep,{}),t.jsx(x.z,{variant:"ghost",size:"sm",onClick:r,"data-testid":"button-logout-selector",children:"Sign out"})]})]}),t.jsx("main",{className:"flex flex-1 flex-col items-center justify-center p-6",children:(0,t.jsxs)("div",{className:"w-full max-w-2xl",children:[(0,t.jsxs)("div",{className:"mb-8 text-center",children:[t.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Select a Site"}),t.jsx("p",{className:"mt-2 text-muted-foreground",children:"Choose a site to continue to your dashboard"})]}),t.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:a.map(e=>t.jsx(e_.Zb,{className:"cursor-pointer transition-all hover-elevate",onClick:()=>i(e),"data-testid":`card-site-${e.id}`,children:t.jsx(e_.Ol,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-md bg-primary/10 text-primary",children:t.jsx(ee.Z,{className:"h-5 w-5"})}),(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx(e_.ll,{className:"text-base font-medium",children:e.name}),e.address&&t.jsx(e_.SZ,{className:"text-xs mt-1",children:e.address})]}),t.jsx(eQ.Z,{className:"h-4 w-4 text-muted-foreground"})]})})},e.id))}),0===a.length&&t.jsx(e_.Zb,{className:"text-center",children:(0,t.jsxs)(e_.aY,{className:"py-12",children:[t.jsx(ee.Z,{className:"mx-auto h-12 w-12 text-muted-foreground"}),t.jsx("h3",{className:"mt-4 text-lg font-medium",children:"No Sites Available"}),t.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"You don't have access to any sites. Please contact your administrator."})]})})]})})]})}function eJ({children:e}){let{isAuthenticated:a,isLoading:s,currentSite:r,availableSites:i}=(0,el.a)();return s?t.jsx("div",{className:"flex h-screen w-full items-center justify-center bg-background",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[t.jsx(Z,{className:"h-14 w-14 rounded-lg"}),t.jsx(Z,{className:"h-4 w-32"}),t.jsx(Z,{className:"h-3 w-24"})]})}):a?!r&&i.length>1?t.jsx(eX,{}):t.jsx(eZ,{children:e}):t.jsx(eT,{})}},973:(e,a,s)=>{"use strict";s.d(a,{Q5:()=>l,qE:()=>n});var t=s(326),r=s(7577),i=s(4150),d=s(7678);let n=r.forwardRef(({className:e,...a},s)=>t.jsx(i.fC,{ref:s,className:(0,d.cn)(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,e),...a}));n.displayName=i.fC.displayName,r.forwardRef(({className:e,...a},s)=>t.jsx(i.Ee,{ref:s,className:(0,d.cn)("aspect-square h-full w-full",e),...a})).displayName=i.Ee.displayName;let l=r.forwardRef(({className:e,...a},s)=>t.jsx(i.NY,{ref:s,className:(0,d.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...a}));l.displayName=i.NY.displayName},3802:(e,a,s)=>{"use strict";s.d(a,{C:()=>n});var t=s(326);s(7577);var r=s(9360),i=s(7678);let d=(0,r.j)("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function n({className:e,variant:a,...s}){return t.jsx("div",{className:(0,i.cn)(d({variant:a}),e),...s})}},3514:(e,a,s)=>{"use strict";s.d(a,{$F:()=>m,AW:()=>u,VD:()=>f,Xi:()=>x,h_:()=>c});var t=s(326),r=s(7577),i=s(4406),d=s(9183),n=s(2933),l=s(3982),o=s(7678);let c=i.fC,m=i.xz;i.ZA,i.Uv,i.Tr,i.Ee,r.forwardRef(({className:e,inset:a,children:s,...r},n)=>(0,t.jsxs)(i.fF,{ref:n,className:(0,o.cn)("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",a&&"pl-8",e),...r,children:[s,t.jsx(d.Z,{className:"ml-auto"})]})).displayName=i.fF.displayName,r.forwardRef(({className:e,...a},s)=>t.jsx(i.tu,{ref:s,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...a})).displayName=i.tu.displayName;let u=r.forwardRef(({className:e,sideOffset:a=4,...s},r)=>t.jsx(i.Uv,{children:t.jsx(i.VY,{ref:r,sideOffset:a,className:(0,o.cn)("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...s})}));u.displayName=i.VY.displayName;let x=r.forwardRef(({className:e,inset:a,...s},r)=>t.jsx(i.ck,{ref:r,className:(0,o.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",a&&"pl-8",e),...s}));x.displayName=i.ck.displayName,r.forwardRef(({className:e,children:a,checked:s,...r},d)=>(0,t.jsxs)(i.oC,{ref:d,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:s,...r,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(i.wU,{children:t.jsx(n.Z,{className:"h-4 w-4"})})}),a]})).displayName=i.oC.displayName,r.forwardRef(({className:e,children:a,...s},r)=>(0,t.jsxs)(i.Rk,{ref:r,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(i.wU,{children:t.jsx(l.Z,{className:"h-2 w-2 fill-current"})})}),a]})).displayName=i.Rk.displayName,r.forwardRef(({className:e,inset:a,...s},r)=>t.jsx(i.__,{ref:r,className:(0,o.cn)("px-2 py-1.5 text-sm font-semibold",a&&"pl-8",e),...s})).displayName=i.__.displayName;let f=r.forwardRef(({className:e,...a},s)=>t.jsx(i.Z0,{ref:s,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",e),...a}));f.displayName=i.Z0.displayName},1206:(e,a,s)=>{"use strict";s.d(a,{I:()=>d});var t=s(326),r=s(7577),i=s(7678);let d=r.forwardRef(({className:e,type:a,...s},r)=>t.jsx("input",{type:a,className:(0,i.cn)("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...s}));d.displayName="Input"},9340:(e,a,s)=>{"use strict";s.d(a,{_:()=>o});var t=s(326),r=s(7577),i=s(4478),d=s(9360),n=s(7678);let l=(0,d.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef(({className:e,...a},s)=>t.jsx(i.f,{ref:s,className:(0,n.cn)(l(),e),...a}));o.displayName=i.f.displayName},5582:(e,a,s)=>{"use strict";s.d(a,{Z:()=>n});var t=s(326),r=s(7577),i=s(220),d=s(7678);let n=r.forwardRef(({className:e,orientation:a="horizontal",decorative:s=!0,...r},n)=>t.jsx(i.f,{ref:n,decorative:s,orientation:a,className:(0,d.cn)("shrink-0 bg-border","horizontal"===a?"h-[1px] w-full":"h-full w-[1px]",e),...r}));n.displayName=i.f.displayName},7210:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>t});let t=(0,s(8570).createProxy)(String.raw`C:\Users\Somli\OneDrive\Desktop\My Apps\Warehouse Builder\app\(app)\layout.tsx#default`)}};