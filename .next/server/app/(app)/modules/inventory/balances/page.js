(()=>{var e={};e.id=799,e.ids=[799],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9412:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d}),s(4821),s(7210),s(4752),s(6560);var t=s(3191),r=s(8716),l=s(7922),n=s.n(l),o=s(5231),i={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);s.d(a,i);let d=["",{children:["(app)",{children:["modules",{children:["inventory",{children:["balances",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,4821)),"C:\\Users\\Somli\\OneDrive\\Desktop\\My Apps\\Warehouse Builder\\app\\(app)\\modules\\inventory\\balances\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,7210)),"C:\\Users\\Somli\\OneDrive\\Desktop\\My Apps\\Warehouse Builder\\app\\(app)\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,4752)),"C:\\Users\\Somli\\OneDrive\\Desktop\\My Apps\\Warehouse Builder\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,6560)),"C:\\Users\\Somli\\OneDrive\\Desktop\\My Apps\\Warehouse Builder\\app\\not-found.tsx"]}],c=["C:\\Users\\Somli\\OneDrive\\Desktop\\My Apps\\Warehouse Builder\\app\\(app)\\modules\\inventory\\balances\\page.tsx"],m="/(app)/modules/inventory/balances/page",p={require:s,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(app)/modules/inventory/balances/page",pathname:"/modules/inventory/balances",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},1141:(e,a,s)=>{Promise.resolve().then(s.bind(s,3183))},3183:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>u});var t=s(326),r=s(7577),l=s(7276),n=s(8405),o=s(1563),i=s(6097),d=s(6342),c=s(5770),m=s(1206);function p(){let{currentSite:e}=(0,c.a)(),a=e?.id||"",{data:s=[]}=(0,l.a)({queryKey:[`/api/inventory/balances?siteId=${a}`],enabled:!!a}),{data:p=[]}=(0,l.a)({queryKey:["/api/inventory/items"]}),{data:u=[]}=(0,l.a)({queryKey:[`/api/inventory/locations?siteId=${a}`],enabled:!!a}),[f,x]=(0,r.useState)("base"),[h,b]=(0,r.useState)(""),[y,j]=(0,r.useState)(""),g=(0,r.useMemo)(()=>new Map(p.map(e=>[e.id,e])),[p]),v=(0,r.useMemo)(()=>new Map(u.map(e=>[e.id,e])),[u]),w=(0,r.useMemo)(()=>{let e=new Set;return p.forEach(a=>a.allowedUoms.forEach(a=>e.add(a.uom))),["base",...Array.from(e)]},[p]),N=e=>{let a=g.get(e.itemId);if(!a||"base"===f)return`${e.qtyBase}`;let s=a.allowedUoms.find(e=>e.uom===f);if(!s)return`${e.qtyBase}`;let t=e.qtyBase/s.toBase;return`${t.toFixed(2)} ${f}`},_=s.filter(e=>{let a=g.get(e.itemId),s=v.get(e.locationId),t=!a||`${a.sku} ${a.name}`.toLowerCase().includes(h.toLowerCase()),r=!s||s.label.toLowerCase().includes(y.toLowerCase());return t&&r});return(0,t.jsxs)("div",{className:"flex h-full flex-col",children:[t.jsx(n.L,{}),(0,t.jsxs)("div",{className:"flex flex-1 flex-col gap-6 p-6",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Balances"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Current on-hand quantities in base units."})]}),(0,t.jsxs)(o.Zb,{children:[(0,t.jsxs)(o.Ol,{children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[t.jsx(o.ll,{className:"text-sm font-medium",children:"On-hand Balances"}),(0,t.jsxs)(i.Ph,{value:f,onValueChange:x,children:[t.jsx(i.i4,{className:"w-[180px]",children:t.jsx(i.ki,{placeholder:"Display UoM"})}),t.jsx(i.Bw,{children:w.map(e=>t.jsx(i.Ql,{value:e,children:"base"===e?"Base":e},e))})]})]}),(0,t.jsxs)("div",{className:"mt-3 flex flex-wrap gap-2",children:[t.jsx(m.I,{placeholder:"Filter by item",value:h,onChange:e=>b(e.target.value),className:"w-full sm:w-[220px]"}),t.jsx(m.I,{placeholder:"Filter by location",value:y,onChange:e=>j(e.target.value),className:"w-full sm:w-[220px]"})]})]}),t.jsx(o.aY,{children:t.jsx("div",{className:"rounded-md border",children:(0,t.jsxs)(d.iA,{children:[t.jsx(d.xD,{children:(0,t.jsxs)(d.SC,{children:[t.jsx(d.ss,{children:"Item"}),t.jsx(d.ss,{children:"Location"}),t.jsx(d.ss,{children:"Qty (Base)"})]})}),t.jsx(d.RM,{children:_.map(e=>{let a=g.get(e.itemId),s=v.get(e.locationId);return(0,t.jsxs)(d.SC,{children:[t.jsx(d.pj,{className:"font-medium",children:a?`${a.sku} - ${a.name}`:e.itemId}),t.jsx(d.pj,{children:s?.label||e.locationId}),t.jsx(d.pj,{children:N(e)})]},e.id)})})]})})})]})]})]})}function u(){return t.jsx(p,{})}},8405:(e,a,s)=>{"use strict";s.d(a,{L:()=>i});var t=s(326),r=s(434),l=s(5047),n=s(7678);let o=[{label:"Dashboard",href:"/modules/inventory"},{label:"Items",href:"/modules/inventory/items"},{label:"Locations",href:"/modules/inventory/locations"},{label:"Balances",href:"/modules/inventory/balances"},{label:"Events",href:"/modules/inventory/events"},{label:"Reason Codes",href:"/modules/inventory/reason-codes"}];function i(){let e=(0,l.usePathname)();return t.jsx("div",{className:"flex flex-wrap gap-2 border-b px-6 pt-4",children:o.map(a=>{let s=e===a.href;return t.jsx(r.default,{href:a.href,className:(0,n.cn)("inline-flex items-center rounded-md px-3 py-2 text-sm font-medium",s?"bg-accent text-accent-foreground":"text-muted-foreground hover:text-foreground"),children:a.label},a.href)})})}},6097:(e,a,s)=>{"use strict";s.d(a,{Bw:()=>x,Ph:()=>c,Ql:()=>h,i4:()=>p,ki:()=>m});var t=s(326),r=s(7577),l=s(8792),n=s(8393),o=s(6633),i=s(2933),d=s(7678);let c=l.fC;l.ZA;let m=l.B4,p=r.forwardRef(({className:e,children:a,...s},r)=>(0,t.jsxs)(l.xz,{ref:r,className:(0,d.cn)("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[a,t.jsx(l.JO,{asChild:!0,children:t.jsx(n.Z,{className:"h-4 w-4 opacity-50"})})]}));p.displayName=l.xz.displayName;let u=r.forwardRef(({className:e,...a},s)=>t.jsx(l.u_,{ref:s,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:t.jsx(o.Z,{className:"h-4 w-4"})}));u.displayName=l.u_.displayName;let f=r.forwardRef(({className:e,...a},s)=>t.jsx(l.$G,{ref:s,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:t.jsx(n.Z,{className:"h-4 w-4"})}));f.displayName=l.$G.displayName;let x=r.forwardRef(({className:e,children:a,position:s="popper",...r},n)=>t.jsx(l.h_,{children:(0,t.jsxs)(l.VY,{ref:n,className:(0,d.cn)("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...r,children:[t.jsx(u,{}),t.jsx(l.l_,{className:(0,d.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),t.jsx(f,{})]})}));x.displayName=l.VY.displayName,r.forwardRef(({className:e,...a},s)=>t.jsx(l.__,{ref:s,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...a})).displayName=l.__.displayName;let h=r.forwardRef(({className:e,children:a,...s},r)=>(0,t.jsxs)(l.ck,{ref:r,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(l.wU,{children:t.jsx(i.Z,{className:"h-4 w-4"})})}),t.jsx(l.eT,{children:a})]}));h.displayName=l.ck.displayName,r.forwardRef(({className:e,...a},s)=>t.jsx(l.Z0,{ref:s,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",e),...a})).displayName=l.Z0.displayName},6342:(e,a,s)=>{"use strict";s.d(a,{RM:()=>i,SC:()=>d,iA:()=>n,pj:()=>m,ss:()=>c,xD:()=>o});var t=s(326),r=s(7577),l=s(7678);let n=r.forwardRef(({className:e,...a},s)=>t.jsx("div",{className:"relative w-full overflow-auto",children:t.jsx("table",{ref:s,className:(0,l.cn)("w-full caption-bottom text-sm",e),...a})}));n.displayName="Table";let o=r.forwardRef(({className:e,...a},s)=>t.jsx("thead",{ref:s,className:(0,l.cn)("[&_tr]:border-b",e),...a}));o.displayName="TableHeader";let i=r.forwardRef(({className:e,...a},s)=>t.jsx("tbody",{ref:s,className:(0,l.cn)("[&_tr:last-child]:border-0",e),...a}));i.displayName="TableBody",r.forwardRef(({className:e,...a},s)=>t.jsx("tfoot",{ref:s,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...a})).displayName="TableFooter";let d=r.forwardRef(({className:e,...a},s)=>t.jsx("tr",{ref:s,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...a}));d.displayName="TableRow";let c=r.forwardRef(({className:e,...a},s)=>t.jsx("th",{ref:s,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...a}));c.displayName="TableHead";let m=r.forwardRef(({className:e,...a},s)=>t.jsx("td",{ref:s,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...a}));m.displayName="TableCell",r.forwardRef(({className:e,...a},s)=>t.jsx("caption",{ref:s,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",e),...a})).displayName="TableCaption"},4821:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>t});let t=(0,s(8570).createProxy)(String.raw`C:\Users\Somli\OneDrive\Desktop\My Apps\Warehouse Builder\app\(app)\modules\inventory\balances\page.tsx#default`)}};var a=require("../../../../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),t=a.X(0,[276,32,84,653,360,535],()=>s(9412));module.exports=t})();